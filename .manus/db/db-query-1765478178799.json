{
  "query": "CREATE TABLE IF NOT EXISTS skillAssessments (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  jobId INT,\n  title VARCHAR(255) NOT NULL,\n  description TEXT,\n  duration INT,\n  passingScore INT NOT NULL DEFAULT 70,\n  createdBy INT NOT NULL,\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  updatedAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  FOREIGN KEY (jobId) REFERENCES jobs(id),\n  FOREIGN KEY (createdBy) REFERENCES users(id)\n);\n\nCREATE TABLE IF NOT EXISTS assessmentQuestions (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  assessmentId INT NOT NULL,\n  questionText TEXT NOT NULL,\n  questionType ENUM('multiple_choice', 'true_false', 'short_answer') NOT NULL,\n  options TEXT,\n  correctAnswer TEXT NOT NULL,\n  points INT NOT NULL DEFAULT 1,\n  orderIndex INT NOT NULL,\n  FOREIGN KEY (assessmentId) REFERENCES skillAssessments(id)\n);\n\nCREATE TABLE IF NOT EXISTS assessmentAttempts (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  assessmentId INT NOT NULL,\n  candidateId INT NOT NULL,\n  applicationId INT,\n  score INT,\n  totalPoints INT,\n  earnedPoints INT,\n  passed BOOLEAN,\n  startedAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  completedAt TIMESTAMP,\n  timeSpent INT,\n  FOREIGN KEY (assessmentId) REFERENCES skillAssessments(id),\n  FOREIGN KEY (candidateId) REFERENCES candidates(id),\n  FOREIGN KEY (applicationId) REFERENCES applications(id)\n);\n\nCREATE TABLE IF NOT EXISTS assessmentAnswers (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  attemptId INT NOT NULL,\n  questionId INT NOT NULL,\n  answer TEXT NOT NULL,\n  isCorrect BOOLEAN,\n  pointsEarned INT,\n  FOREIGN KEY (attemptId) REFERENCES assessmentAttempts(id),\n  FOREIGN KEY (questionId) REFERENCES assessmentQuestions(id)\n);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user Qn11raqpZKapJrc.584a41145ea0 --database myxzroeDB4HgZWmTgbS8PA --execute CREATE TABLE IF NOT EXISTS skillAssessments (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  jobId INT,\n  title VARCHAR(255) NOT NULL,\n  description TEXT,\n  duration INT,\n  passingScore INT NOT NULL DEFAULT 70,\n  createdBy INT NOT NULL,\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  updatedAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  FOREIGN KEY (jobId) REFERENCES jobs(id),\n  FOREIGN KEY (createdBy) REFERENCES users(id)\n);\n\nCREATE TABLE IF NOT EXISTS assessmentQuestions (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  assessmentId INT NOT NULL,\n  questionText TEXT NOT NULL,\n  questionType ENUM('multiple_choice', 'true_false', 'short_answer') NOT NULL,\n  options TEXT,\n  correctAnswer TEXT NOT NULL,\n  points INT NOT NULL DEFAULT 1,\n  orderIndex INT NOT NULL,\n  FOREIGN KEY (assessmentId) REFERENCES skillAssessments(id)\n);\n\nCREATE TABLE IF NOT EXISTS assessmentAttempts (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  assessmentId INT NOT NULL,\n  candidateId INT NOT NULL,\n  applicationId INT,\n  score INT,\n  totalPoints INT,\n  earnedPoints INT,\n  passed BOOLEAN,\n  startedAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  completedAt TIMESTAMP,\n  timeSpent INT,\n  FOREIGN KEY (assessmentId) REFERENCES skillAssessments(id),\n  FOREIGN KEY (candidateId) REFERENCES candidates(id),\n  FOREIGN KEY (applicationId) REFERENCES applications(id)\n);\n\nCREATE TABLE IF NOT EXISTS assessmentAnswers (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  attemptId INT NOT NULL,\n  questionId INT NOT NULL,\n  answer TEXT NOT NULL,\n  isCorrect BOOLEAN,\n  pointsEarned INT,\n  FOREIGN KEY (attemptId) REFERENCES assessmentAttempts(id),\n  FOREIGN KEY (questionId) REFERENCES assessmentQuestions(id)\n);",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 3119
}